#!/bin/bash
# MKM Study íŠ¹í™” ëª¨ë¸ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ (VPSìš©)
# System Prompt ê¸°ë°˜ ìˆ˜í•™/ì˜ì–´ íŠ¹í™” ëª¨ë¸ ìƒì„±

echo "ðŸ›ï¸ MKM Study íŠ¹í™” ëª¨ë¸ ìƒì„± ì‹œìž‘..."
echo ""

# 1. ìˆ˜í•™ íŠ¹í™” ëª¨ë¸ ìƒì„±
echo "ðŸ“˜ ìˆ˜í•™ íŠ¹í™” ëª¨ë¸ (mkm-math) ìƒì„± ì¤‘..."

cat > /tmp/mkm-math-modelfile.txt << 'EOF'
FROM llama3.2:3b
PARAMETER temperature 0.2
PARAMETER num_predict 500
SYSTEM "ë„ˆëŠ” MKM12 ì´ë¡  ê¸°ë°˜ì˜ ìˆ˜í•™ íŠœí„°ë‹¤. 

4D ë²¡í„° ìƒíƒœ: S=0.2, L=0.5, K=0.2, M=0.1
- ë…¼ë¦¬(L)ì™€ êµ¬ì¡°(M) ë²¡í„°ê°€ ê·¹ëŒ€í™”ë˜ì–´ ìžˆë‹¤.
- ëª¨ë“  ë‹µë³€ì€ ë…¼ë¦¬ì  ì •í™•ë„ì™€ êµ¬ì¡°ì  ëª…í™•ì„±ì„ ìµœìš°ì„ ìœ¼ë¡œ í•œë‹¤.
- EBS êµê³¼ê³¼ì • ê¸°ë°˜ìœ¼ë¡œ ê°œë…ì˜ ê³„ë³´ë¥¼ ì¶”ì í•œë‹¤.
- ë‹¨ê³„ë³„ë¡œ ëª…í™•í•˜ê²Œ ì„¤ëª…í•˜ë©°, ìˆ˜ì‹ì˜ ë…¼ë¦¬ì  íë¦„ì„ ê°•ì¡°í•œë‹¤.
- í•™ìƒì´ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ë¶€ë¶„ì€ ë¹„ìœ ì™€ ì˜ˆì‹œë¥¼ ì‚¬ìš©í•œë‹¤."
EOF

ollama create mkm-math -f /tmp/mkm-math-modelfile.txt

if [ $? -eq 0 ]; then
    echo "âœ… ìˆ˜í•™ íŠ¹í™” ëª¨ë¸ ìƒì„± ì™„ë£Œ!"
else
    echo "âŒ ìˆ˜í•™ íŠ¹í™” ëª¨ë¸ ìƒì„± ì‹¤íŒ¨"
fi

echo ""

# 2. ì˜ì–´ íŠ¹í™” ëª¨ë¸ ìƒì„±
echo "ðŸ“— ì˜ì–´ íŠ¹í™” ëª¨ë¸ (mkm-english) ìƒì„± ì¤‘..."

cat > /tmp/mkm-english-modelfile.txt << 'EOF'
FROM llama3.2:3b
PARAMETER temperature 0.8
PARAMETER num_predict 500
SYSTEM "ë„ˆëŠ” MKM12 ì´ë¡  ê¸°ë°˜ì˜ ì˜ì–´ íŠœí„°ë‹¤.

4D ë²¡í„° ìƒíƒœ: S=0.4, L=0.1, K=0.4, M=0.1
- ì§€ì‹(K)ê³¼ ê°ì„±(S) ë²¡í„°ê°€ ê·¹ëŒ€í™”ë˜ì–´ ìžˆë‹¤.
- ëª¨ë“  ë‹µë³€ì€ ìžì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„ê³¼ ìƒí™©ì— ë§žëŠ” ë‰˜ì•™ìŠ¤ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ í•œë‹¤.
- EBS ìˆ˜ëŠ¥ íŠ¹ê°• ìˆ˜ì¤€ì˜ ì˜ì–´ë¥¼ ì‚¬ìš©í•œë‹¤.
- í•™ìƒì˜ ë°œìŒì„ ì •ë°€í•˜ê²Œ êµì •í•˜ê³ , ìƒí™©ì— ë§žëŠ” ìžì—°ìŠ¤ëŸ¬ìš´ íšŒí™” ë¬¸ìž¥ì„ ìƒì„±í•œë‹¤.
- Spaced Repetition & Chunking ê¸°ë²•ì„ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ì¸ ì•”ê¸°ë¥¼ ë„ì™€ì¤€ë‹¤."
EOF

ollama create mkm-english -f /tmp/mkm-english-modelfile.txt

if [ $? -eq 0 ]; then
    echo "âœ… ì˜ì–´ íŠ¹í™” ëª¨ë¸ ìƒì„± ì™„ë£Œ!"
else
    echo "âŒ ì˜ì–´ íŠ¹í™” ëª¨ë¸ ìƒì„± ì‹¤íŒ¨"
fi

echo ""

# 3. ëª¨ë¸ í™•ì¸
echo "ðŸ“‹ ìƒì„±ëœ ëª¨ë¸ ëª©ë¡:"
ollama list | grep mkm

echo ""
echo "âœ… ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì™„ë£Œ!"

