# 📚 EBS 데이터 수집 가이드

**작성일**: 2026-01-20  
**프로젝트**: mkm-study20260120  
**상태**: ✅ 스크립트 생성 완료

---

## 🎯 개요

EBS 및 공공데이터를 활용하여 학습 정보 시스템에 대량의 영어/수학 학습 데이터를 수집하는 가이드입니다.

---

## 📋 데이터 수집 방법

### 1. EBS 웹 스크래핑

**스크립트**: `scripts/scrape_ebs_data.py`

**기능**:
- EBSi(고교), EBS 중학 사이트에서 강좌 목록 수집
- 강좌 상세 정보 수집 (학습 목표, 내용, 키워드)
- 자동으로 VPS API에 저장

**실행 방법**:
```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
py scripts\scrape_ebs_data.py
```

**주의사항**:
- `robots.txt` 확인 필수
- 요청 딜레이 2초 설정 (봇 차단 방지)
- 저작권 준수 (학습 목적만 사용)

**수정 필요 사항**:
- EBS 사이트 URL 구조가 변경될 수 있으므로 실제 사이트 구조에 맞게 선택자 수정 필요
- 로그인 필요한 경우 Selenium 사용 고려

---

### 2. AI Hub 데이터 수집

**스크립트**: `scripts/scrape_aihub_data.py`

**추천 데이터셋**:
1. **초중고 학생 질문-답변 데이터**
   - 학생들이 자주 묻는 질문과 교사의 답변 쌍
   - 질문 답변 시스템 강화에 최적

2. **한국어 교과서 기반 질의응답 데이터**
   - 교과서 내용 기반 질문-답변
   - RAG 시스템 구축에 유용

3. **수학 문항 풀이 데이터**
   - 수학 문제와 풀이 과정
   - 수학 학습 모듈 강화에 필수

**실행 방법**:
```powershell
# 1. AI Hub에서 데이터 다운로드
#    - https://aihub.or.kr 접속
#    - 회원가입 및 로그인
#    - 위 데이터셋 다운로드
#    - learning-content/aihub 디렉토리에 압축 해제

# 2. 스크립트 실행
py scripts\scrape_aihub_data.py
```

**장점**:
- 이미 정제된 고품질 데이터
- 대량 데이터 확보 가능
- 벡터화에 최적화된 형식

---

### 3. 공공데이터포털 데이터 수집

**스크립트**: `scripts/scrape_public_data.py`

**추천 데이터셋**:
1. **교육과정 정보**
   - 초중고 교육과정 정보
   - 성취 기준, 핵심 역량 등

2. **학교 기본 정보**
   - 전국 학교 정보
   - 위치 기반 서비스에 활용

3. **교과용 도서 목록**
   - 교과서 목록 정보
   - 교과서 기반 학습 콘텐츠 연계

**API 키 발급**:
1. https://www.data.go.kr 접속
2. 회원가입 및 로그인
3. '교육과정' 또는 '학교정보' 검색
4. 원하는 데이터셋 선택
5. '활용신청' 클릭 후 API 키 발급 (1-2일 소요)

**환경 변수 설정**:
```powershell
# Windows
setx PUBLIC_DATA_API_KEY "your-api-key"

# 또는 스크립트 실행 시 직접 입력
```

**실행 방법**:
```powershell
py scripts\scrape_public_data.py
```

---

## 🔄 통합 실행 스크립트

**스크립트**: `scripts/collect_all_learning_data.py` (향후 생성)

**기능**:
- 모든 데이터 수집 스크립트를 순차 실행
- 수집 결과 통합 리포트 생성
- 벡터화 자동 실행

---

## 📊 데이터 수집 전략

### 우선순위

1. **AI Hub 데이터 (최우선)**
   - 이미 정제된 고품질 데이터
   - 즉시 사용 가능
   - 벡터화에 최적화

2. **공공데이터포털 (2순위)**
   - 정형화된 데이터
   - API로 안정적 수집
   - 교육과정 기준 데이터

3. **EBS 웹 스크래핑 (3순위)**
   - 최신 강좌 정보
   - 상세 학습 콘텐츠
   - 구조 변경 가능성 있음

---

## 🚀 실행 순서

### 1단계: AI Hub 데이터 수집 (권장)

```powershell
# 1. AI Hub에서 데이터 다운로드
#    - https://aihub.or.kr 접속
#    - 회원가입 및 로그인
#    - '초중고 학생 질문-답변 데이터' 다운로드
#    - learning-content/aihub 디렉토리에 압축 해제

# 2. 스크립트 실행
py scripts\scrape_aihub_data.py
```

**예상 결과**: 수천~수만 개의 질의응답 데이터 확보

---

### 2단계: 공공데이터포털 데이터 수집

```powershell
# 1. API 키 발급 (1-2일 소요)
#    - https://www.data.go.kr 접속
#    - '교육과정' 검색
#    - API 키 발급

# 2. 환경 변수 설정
setx PUBLIC_DATA_API_KEY "your-api-key"

# 3. 스크립트 실행
py scripts\scrape_public_data.py
```

**예상 결과**: 교육과정 정보, 학교 정보 등 정형 데이터 확보

---

### 3단계: EBS 웹 스크래핑 (선택적)

```powershell
# 1. EBS 사이트 구조 확인
#    - https://www.ebsi.co.kr 접속
#    - 강좌 목록 페이지 구조 확인
#    - 스크립트의 선택자 수정 (필요 시)

# 2. 스크립트 실행
py scripts\scrape_ebs_data.py
```

**예상 결과**: 최신 강좌 정보 및 상세 학습 콘텐츠 확보

---

### 4단계: 벡터화 및 저장

```powershell
# 수집된 데이터를 벡터화하여 File-Based Memory System에 저장
py scripts\vectorize_learning_content.py
```

---

## 📋 체크리스트

### AI Hub 데이터
- [ ] AI Hub 회원가입 및 로그인
- [ ] '초중고 학생 질문-답변 데이터' 다운로드
- [ ] '한국어 교과서 기반 질의응답 데이터' 다운로드 (선택)
- [ ] '수학 문항 풀이 데이터' 다운로드 (선택)
- [ ] `learning-content/aihub` 디렉토리에 압축 해제
- [ ] `scrape_aihub_data.py` 실행

### 공공데이터포털
- [ ] 공공데이터포털 회원가입 및 로그인
- [ ] '교육과정 정보' API 키 발급 신청
- [ ] API 키 발급 완료 (1-2일 소요)
- [ ] 환경 변수 설정 (`PUBLIC_DATA_API_KEY`)
- [ ] `scrape_public_data.py` 실행

### EBS 웹 스크래핑
- [ ] EBS 사이트 구조 확인
- [ ] 스크립트 선택자 수정 (필요 시)
- [ ] `scrape_ebs_data.py` 실행
- [ ] 수집 결과 확인

### 벡터화 및 저장
- [ ] 수집된 데이터 확인
- [ ] `vectorize_learning_content.py` 실행
- [ ] 벡터화된 데이터 저장 확인

---

## 🎯 예상 데이터 규모

| 데이터 소스 | 예상 항목 수 | 품질 | 우선순위 |
|------------|------------|------|---------|
| **AI Hub** | 10,000+ | ⭐⭐⭐⭐⭐ | 최우선 |
| **공공데이터포털** | 1,000+ | ⭐⭐⭐⭐ | 2순위 |
| **EBS 웹 스크래핑** | 500+ | ⭐⭐⭐ | 3순위 |

---

## ⚠️ 주의사항

### 저작권
- EBS 콘텐츠는 저작권 보호 대상
- 학습 목적만 사용
- 상업적 이용 금지

### robots.txt 준수
- 웹 스크래핑 시 `robots.txt` 확인 필수
- 요청 딜레이 설정 (2초 이상 권장)
- 과도한 요청 방지

### API 할당량
- 공공데이터포털 API는 일일 호출 제한 있음
- 초기 구축 시 대량 데이터를 한 번에 수집 권장

---

## 🔧 문제 해결

### EBS 스크래핑 실패
- **원인**: 사이트 구조 변경 또는 봇 차단
- **해결**: 
  - 실제 사이트 구조 확인 후 선택자 수정
  - Selenium 사용 고려 (동적 페이지)
  - User-Agent 변경

### 공공데이터 API 오류
- **원인**: API 키 오류 또는 할당량 초과
- **해결**:
  - API 키 확인
  - 할당량 확인 및 대기

### AI Hub 데이터 로드 실패
- **원인**: 파일 형식 불일치 또는 경로 오류
- **해결**:
  - 파일 경로 확인
  - JSON 형식 확인
  - 스크립트의 파싱 로직 수정

---

**작성일**: 2026-01-20  
**상태**: ✅ 스크립트 생성 완료, 데이터 수집 대기 중

[Verified by Athena Auditor v1.2]

