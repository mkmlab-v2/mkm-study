# âœ… VPS ë°°í¬ ì¤€ë¹„ ì™„ë£Œ

**ì‘ì„±ì¼**: 2026-01-20  
**ìƒíƒœ**: âœ… í¬íŠ¸ ì¶©ëŒ í•´ê²° ì™„ë£Œ, ë°°í¬ ì¤€ë¹„ ì™„ë£Œ

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. í¬íŠ¸ ì¶©ëŒ í•´ê²°
- **ë¬¸ì œ**: VPS 8003 í¬íŠ¸ì— Sentinel API ì‹¤í–‰ ì¤‘
- **í•´ê²°**: í•™ìŠµ ì½˜í…ì¸  APIë¥¼ í¬íŠ¸ 8004ë¡œ ë³€ê²½
- **ë³€ê²½ íŒŒì¼**:
  - `backend/learning_content_api.py` (í¬íŠ¸ 8004)
  - `src/utils/learningContentApi.ts` (URL 8004)
  - `scripts/athena_generator.py` (URL 8004)
  - `scripts/deploy-learning-api-vps.ps1` (í¬íŠ¸ 8004)

### 2. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •
- ê²½ë¡œ ìë™ ê°ì§€ ê¸°ëŠ¥ ì¶”ê°€
- í¬íŠ¸ 8004 ì„¤ì • ë°˜ì˜

---

## ğŸš€ VPS ë°°í¬ ë°©ë²•

### ë°©ë²• 1: PowerShell ìŠ¤í¬ë¦½íŠ¸ (ê¶Œì¥)

```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
.\scripts\deploy-learning-api-vps.ps1
```

**ìë™ ì‹¤í–‰ ë‚´ìš©**:
1. VPS ì—°ê²° í…ŒìŠ¤íŠ¸
2. ë””ë ‰í† ë¦¬ ìƒì„± (`/var/www/mkm-study/backend`)
3. íŒŒì¼ ì „ì†¡ (`learning_content_api.py`)
4. ì˜ì¡´ì„± ì„¤ì¹˜ (FastAPI, uvicorn, pydantic)
5. API ì„œë²„ ì‹œì‘ (í¬íŠ¸ 8004, ë°±ê·¸ë¼ìš´ë“œ)
6. ì„œë²„ ìƒíƒœ í™•ì¸

---

### ë°©ë²• 2: ìˆ˜ë™ ë°°í¬

```bash
# 1. VPSì— SSH ì ‘ì†
ssh root@148.230.97.246

# 2. ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p /var/www/mkm-study/backend
mkdir -p /var/www/mkm-study/learning-content

# 3. íŒŒì¼ ì „ì†¡ (ë¡œì»¬ì—ì„œ ì‹¤í–‰)
scp backend/learning_content_api.py root@148.230.97.246:/var/www/mkm-study/backend/

# 4. VPSì—ì„œ ì˜ì¡´ì„± ì„¤ì¹˜
cd /var/www/mkm-study/backend
pip3 install fastapi uvicorn pydantic

# 5. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ë° ì„œë²„ ì‹¤í–‰
export LEARNING_API_PORT=8004
nohup python3 learning_content_api.py > learning_api.log 2>&1 &

# 6. ì„œë²„ ìƒíƒœ í™•ì¸
curl http://148.230.97.246:8004/
```

---

## ğŸ” ë°°í¬ í›„ í™•ì¸

### 1. ì„œë²„ ìƒíƒœ í™•ì¸
```bash
curl http://148.230.97.246:8004/
```

**ì˜ˆìƒ ì‘ë‹µ**:
```json
{
  "status": "running",
  "service": "MKM Study Learning Content API",
  "version": "1.0.0",
  "endpoints": {
    "curriculum": "/api/v1/learning/curriculum",
    "store": "/api/v1/learning/store",
    "search": "/api/v1/learning/search",
    "constitution": "/api/v1/learning/constitution/{constitution}",
    "memory_techniques": "/api/v1/learning/memory-techniques"
  }
}
```

### 2. API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
```bash
# í•™ìŠµ ì½˜í…ì¸  ì €ì¥ í…ŒìŠ¤íŠ¸
curl -X POST http://148.230.97.246:8004/api/v1/learning/store \
  -H "Content-Type: application/json" \
  -d '{"subject":"math","topic":"í…ŒìŠ¤íŠ¸","content":"í…ŒìŠ¤íŠ¸ ë‚´ìš©"}'

# ì²´ì§ˆë³„ í•™ìŠµ ìŠ¤íƒ€ì¼ ì¡°íšŒ
curl http://148.230.97.246:8004/api/v1/learning/constitution/íƒœì–‘ì¸
```

---

## ğŸ“Š í¬íŠ¸ ì‚¬ìš© í˜„í™©

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ìƒíƒœ |
|--------|------|------|
| **Sentinel API** | 8003 | âœ… ì‹¤í–‰ ì¤‘ |
| **í•™ìŠµ ì½˜í…ì¸  API** | 8004 | â³ ë°°í¬ ëŒ€ê¸° |
| **Ollama (Gemma3)** | 11434 | âœ… ì‹¤í–‰ ì¤‘ |

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **VPS ë°°í¬ ì‹¤í–‰** (ìœ„ ë°©ë²• ì¤‘ ì„ íƒ)
2. **Athena Generator í…ŒìŠ¤íŠ¸**
   ```powershell
   py scripts\athena_generator.py math ì¤‘2 None 1
   ```
3. **ìƒì„±ëœ ë¬¸ì œ VPS ì €ì¥ í™•ì¸**

---

**ì‘ì„±ì¼**: 2026-01-20  
**ìƒíƒœ**: âœ… ë°°í¬ ì¤€ë¹„ ì™„ë£Œ  
**ë‹¤ìŒ**: VPS ë°°í¬ ì‹¤í–‰

[Verified by Athena Auditor v1.2]

