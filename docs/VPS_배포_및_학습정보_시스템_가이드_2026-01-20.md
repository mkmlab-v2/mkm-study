# 🚀 VPS 배포 및 학습 정보 시스템 가이드

**작성일**: 2026-01-20  
**프로젝트**: mkm-study20260120  
**상태**: ✅ 스크립트 생성 완료

---

## 📋 개요

VPS에 학습 정보 API 서버를 배포하고, 대량의 영어/수학 학습 정보를 저장하는 가이드입니다.

---

## 🚀 1단계: VPS에 학습 정보 API 서버 배포

### 방법 1: PowerShell 스크립트 사용 (권장)

```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
.\scripts\deploy-learning-api-vps.ps1
```

**자동 실행 내용**:
1. VPS 연결 테스트
2. 디렉토리 생성
3. 파일 전송
4. 의존성 설치 (FastAPI, uvicorn, pydantic)
5. API 서버 시작 (백그라운드)
6. 서버 상태 확인

---

### 방법 2: 수동 배포

```bash
# 1. VPS에 SSH 접속
ssh root@148.230.97.246

# 2. 디렉토리 생성
mkdir -p /var/www/mkm-study/backend
mkdir -p /var/www/mkm-study/learning-content

# 3. 파일 전송 (로컬에서 실행)
scp backend/learning_content_api.py root@148.230.97.246:/var/www/mkm-study/backend/

# 4. VPS에서 의존성 설치
cd /var/www/mkm-study/backend
pip3 install fastapi uvicorn pydantic

# 5. API 서버 실행 (백그라운드)
nohup python3 learning_content_api.py > learning_api.log 2>&1 &

# 6. 서버 상태 확인
curl http://148.230.97.246:8003/
```

---

## 📚 2단계: EBS 교과과정 데이터 임포트

### 실행 방법

```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
py scripts\import_ebs_content.py
```

**실행 내용**:
- 중학교 1-3학년 수학/영어 데이터 임포트
- 고등학교 1-2학년 수학/영어 데이터 임포트
- 각 단원/섹션별 학습 콘텐츠 저장

**저장 위치**: VPS API 서버 (`http://148.230.97.246:8003/api/v1/learning/store`)

---

## 🔄 3단계: 학습 콘텐츠 벡터화

### 실행 방법

```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
py scripts\vectorize_learning_content.py
```

**실행 내용**:
- 저장된 학습 콘텐츠를 4D 벡터로 변환
- File-Based Memory System에 저장
- 벡터화된 데이터를 JSON 파일로 저장

**출력 파일**: `learning-content/*_vectorized.json`

---

## 📊 4단계: 체질별 맞춤 알고리즘 구현

### 현재 상태

**체질별 학습 스타일 데이터** (이미 구현됨):
- 태양인: 혁신적, 창의적 (오전 6-10시)
- 태음인: 체계적, 안정적 (오후 2-6시)
- 소양인: 효율적, 논리적 (저녁 7-11시)
- 소음인: 정밀, 완성도 (새벽 3-7시)

**최신 두뇌 과학 기법** (이미 구현됨):
- 간격 반복 학습법 (Spaced Repetition) - 효과성 95%
- 청킹 기법 (Chunking) - 효과성 88%
- 연상 기억법 (Mnemonic) - 효과성 82%
- 능동적 회상 (Active Recall) - 효과성 90%
- 교차 학습법 (Interleaving) - 효과성 85%

### 향후 개선

1. **4D 벡터 기반 맞춤 추천 알고리즘**
   - 학생의 현재 4D 벡터 상태 분석
   - 체질별 학습 스타일과 결합
   - 최적 학습 콘텐츠 추천

2. **시간대별 학습 추천**
   - 체질별 최적 학습 시간대 활용
   - 현재 시간에 맞는 학습 콘텐츠 추천

3. **기억법 자동 적용**
   - 학습 콘텐츠에 적합한 기억법 자동 선택
   - 간격 반복 스케줄 자동 생성

---

## 🔍 5단계: 테스트 및 검증

### API 서버 테스트

```bash
# 1. 서버 상태 확인
curl http://148.230.97.246:8003/

# 2. 체질별 학습 스타일 조회
curl http://148.230.97.246:8003/api/v1/learning/constitution/태양인

# 3. 학습 콘텐츠 검색
curl -X POST http://148.230.97.246:8003/api/v1/learning/search \
  -H "Content-Type: application/json" \
  -d '{"query": "이차함수", "subject": "math", "limit": 5}'

# 4. 맞춤 추천
curl -X POST http://148.230.97.246:8003/api/v1/learning/personalized \
  -H "Content-Type: application/json" \
  -d '{
    "constitution": "태양인",
    "vector_4d": {"S": 0.3, "L": 0.25, "K": 0.25, "M": 0.2},
    "subject": "math"
  }'
```

### 프론트엔드 테스트

1. **학습 정보 검색 테스트**:
   - 질문 탭에서 마이크 버튼으로 질문
   - 브라우저 콘솔에서 `[학습 정보]` 로그 확인
   - 관련 학습 자료가 답변에 포함되는지 확인

2. **체질별 맞춤 테스트**:
   - 캐릭터 선택 (12지지 동물)
   - 질문 시 체질 정보가 자동 로드되는지 확인
   - 체질별 맞춤 답변이 생성되는지 확인

---

## 📋 체크리스트

### VPS 배포
- [ ] VPS 연결 테스트
- [ ] 디렉토리 생성
- [ ] 파일 전송
- [ ] 의존성 설치
- [ ] API 서버 시작
- [ ] 서버 상태 확인

### 데이터 임포트
- [ ] EBS 교과과정 데이터 임포트
- [ ] 학습 콘텐츠 벡터화
- [ ] File-Based Memory System에 저장

### 테스트
- [ ] API 서버 테스트
- [ ] 프론트엔드 통합 테스트
- [ ] 체질별 맞춤 테스트

---

## 🎯 다음 단계

1. **실제 EBS 데이터 수집**
   - EBS API 연동 또는 웹 스크래핑
   - 더 많은 학습 콘텐츠 수집

2. **벡터화 서비스 구축**
   - VPS에 벡터화 서비스 배포
   - 4D 벡터 변환 자동화

3. **맞춤 알고리즘 고도화**
   - 4D 벡터 기반 추천 알고리즘 구현
   - 시간대별 학습 추천 구현

---

**작성일**: 2026-01-20  
**상태**: ✅ 스크립트 생성 완료, VPS 배포 대기 중

[Verified by Athena Auditor v1.2]

