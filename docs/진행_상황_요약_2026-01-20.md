# 📊 Logos Atom 학습 자료 수집 전략 진행 상황

**작성일**: 2026-01-20  
**프로젝트**: mkm-study20260120  
**상태**: ✅ 1단계 완료, 2-3단계 준비 완료

---

## ✅ 완료된 작업

### 1단계: 커리큘럼 맵 구축 (Bone) ✅

**스크립트**: `scripts/build_curriculum_map.py`

**결과**:
- ✅ 총 **63개 단원**, **159개 주제**
- ✅ 중1~고2 수학/영어 전체 커리큘럼
- ✅ 저장 위치: `learning-content/curriculum/curriculum_map.json`

**데이터 소스**:
- 교육부 고시 교육과정 (표준 데이터)
- 저작권 없음 (공공 데이터)

---

### 2단계: Athena Generator 구축 (Flesh) ✅

**스크립트**: `scripts/athena_generator.py`

**기능**:
- ✅ 커리큘럼 맵 기반 맞춤형 문제 생성
- ✅ Gemma3 연결 완료 (포트 11434)
- ✅ 문제 생성 테스트 성공 (약 49초/문제)
- ⚠️ VPS API 저장 실패 (404) - 서버 배포 필요

**현재 상태**:
- Gemma3 문제 생성: 정상 작동
- Gemini API: 400 오류 (Gemma3로 우회)
- VPS API 저장: 404 오류 (서버 배포 필요)

---

### 3단계: 기출문제 다운로더 (Soul) ⏳

**스크립트**: `scripts/download_kice_exams.py`

**상태**: 준비 완료, 실행 대기

**기능**:
- 평가원 수능/모의고사 기출문제 수집
- 최근 10년치 PDF 다운로드
- PDF → 텍스트 변환
- 메타데이터 저장

---

## 🎯 다음 단계 (우선순위)

### 최우선: VPS API 서버 배포 ⭐

**목적**: 생성된 문제를 VPS에 저장

**실행 방법**:
```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
.\scripts\deploy-learning-api-vps.ps1
```

**또는 수동 배포**:
```bash
# VPS에 SSH 접속
ssh root@148.230.97.246

# 디렉토리 생성
mkdir -p /var/www/mkm-study/backend
mkdir -p /var/www/mkm-study/learning-content

# 파일 전송
scp backend/learning_content_api.py root@148.230.97.246:/var/www/mkm-study/backend/

# 의존성 설치
cd /var/www/mkm-study/backend
pip3 install fastapi uvicorn pydantic

# 서버 실행
nohup python3 learning_content_api.py > learning_api.log 2>&1 &
```

**확인**:
```bash
curl http://148.230.97.246:8003/
```

---

## 📊 생성된 파일

### 커리큘럼 맵
- `learning-content/curriculum/curriculum_map.json` (63개 단원, 159개 주제)

### 생성된 문제 (테스트)
- `learning-content/generated-problems/중2_math_problems_20260120.json` (비어있음 - VPS API 저장 실패)

---

## 🔧 기술적 이슈 및 해결

### ✅ 해결됨
1. **Gemma3 포트 오류**: 8000 → 11434 수정 완료
2. **타임아웃 문제**: 30초 → 60초 증가 완료
3. **프롬프트 단순화**: 타임아웃 방지 완료

### ⏳ 진행 중
1. **VPS API 서버 배포**: 배포 스크립트 준비 완료, 실행 필요
2. **Gemini API 400 오류**: Gemma3로 우회 (정상 작동)

---

## 📋 체크리스트

### 완료 ✅
- [x] 커리큘럼 맵 구축 (63개 단원, 159개 주제)
- [x] Athena Generator 스크립트 생성
- [x] Gemma3 연결 수정 완료
- [x] 문제 생성 테스트 성공

### 진행 중 ⏳
- [ ] VPS API 서버 배포
- [ ] 생성된 문제 VPS 저장 검증

### 대기 중 📋
- [ ] 기출문제 다운로더 실행
- [ ] 대량 문제 생성
- [ ] 학습 콘텐츠 벡터화

---

## 🎯 권장 실행 순서

1. **VPS API 서버 배포** (최우선) ⭐
   ```powershell
   .\scripts\deploy-learning-api-vps.ps1
   ```

2. **Athena Generator 재테스트**
   ```powershell
   py scripts\athena_generator.py math 중2 None 1
   ```

3. **기출문제 다운로더 실행** (선택적)
   ```powershell
   py scripts\download_kice_exams.py
   ```

4. **대량 문제 생성** (VPS API 배포 후)
   ```powershell
   py scripts\athena_generator.py math 중2 None 3
   ```

---

**작성일**: 2026-01-20  
**상태**: ✅ 1단계 완료, 2-3단계 준비 완료  
**다음**: VPS API 서버 배포

[Verified by Athena Auditor v1.2]

