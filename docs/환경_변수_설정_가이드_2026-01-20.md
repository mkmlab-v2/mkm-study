# 🔧 Vercel 환경 변수 설정 가이드

**작성일**: 2026-01-20  
**프로젝트**: mkm-study20260120  
**상태**: 배포 완료, 환경 변수 설정 필요

---

## 🎯 환경 변수 설정 (필수!) ⭐

### Vercel 웹 UI에서 설정

**환경 변수 설정 페이지**: 
👉 https://vercel.com/mkmlab-v2/mkm-study20260120/settings/environment-variables

---

## 📋 설정할 환경 변수

### 환경 변수 1: VPS Gemma3 API (필수)

- **Key**: `VITE_VPS_GEMMA3_URL`
- **Value**: `http://148.230.97.246:11434`
- **Environment**: ✅ Production, ✅ Preview, ✅ Development (모두 선택)

**설정 방법**:
1. 위 링크 접속
2. "Add New" 버튼 클릭
3. Key: `VITE_VPS_GEMMA3_URL` 입력
4. Value: `http://148.230.97.246:11434` 입력
5. Environment: Production, Preview, Development 모두 선택
6. "Save" 버튼 클릭

---

### 환경 변수 2: VPS 표준 API (선택적)

- **Key**: `VITE_API_BASE_URL`
- **Value**: `http://148.230.97.246:8003`
- **Environment**: ✅ Production, ✅ Preview, ✅ Development (모두 선택)

**설정 방법**:
1. "Add New" 버튼 클릭
2. Key: `VITE_API_BASE_URL` 입력
3. Value: `http://148.230.97.246:8003` 입력
4. Environment: Production, Preview, Development 모두 선택
5. "Save" 버튼 클릭

---

## 🔄 재배포 실행 (중요!)

**환경 변수 설정 후 반드시 재배포해야 합니다!**

### 방법 1: Vercel 웹 UI에서 재배포

1. Vercel 대시보드 접속: https://vercel.com/mkmlab-v2/mkm-study20260120
2. "Deployments" 탭 클릭
3. 최신 배포 옆 "..." 메뉴 클릭
4. "Redeploy" 선택
5. "Redeploy" 버튼 클릭

### 방법 2: GitHub 푸시로 자동 재배포

```powershell
cd C:\workspace\projects\mkm\mkm-study20260120
git commit --allow-empty -m "chore: 환경 변수 적용을 위한 재배포"
git push origin main
```

---

## ✅ 환경 변수 설정 확인

### Vercel 웹 UI에서 확인

1. 환경 변수 설정 페이지 접속
2. 설정한 환경 변수 목록 확인
3. 각 환경 변수의 Environment 확인 (Production, Preview, Development 모두 선택되어 있는지)

### 배포된 사이트에서 확인

1. 배포된 사이트 접속: https://mkm-study20260120.vercel.app
2. 브라우저 개발자 도구 (F12) 열기
3. Console 탭에서 환경 변수 로드 여부 확인
4. Network 탭에서 API 호출 확인

---

## 🚨 문제 해결

### 환경 변수가 적용되지 않는 경우

**증상**: VPS Gemma3 연결 실패, API 호출 실패

**해결 방법**:
1. 환경 변수가 올바르게 설정되었는지 확인
2. Environment가 Production, Preview, Development 모두 선택되어 있는지 확인
3. 재배포 실행 (환경 변수 변경 후 반드시 필요)

---

### CORS 오류 발생 시

**증상**: 브라우저 콘솔에 CORS 에러 표시

**해결 방법**:
1. VPS에서 CORS 설정 확인 필요할 수 있음
2. VPS Gemma3 API 서버에서 CORS 헤더 추가 필요할 수 있음

---

## 📊 환경 변수 요약

| 환경 변수 | 값 | 용도 | 필수 여부 |
|----------|-----|------|----------|
| `VITE_VPS_GEMMA3_URL` | `http://148.230.97.246:11434` | VPS Gemma3 API 연결 | ✅ 필수 |
| `VITE_API_BASE_URL` | `http://148.230.97.246:8003` | VPS 표준 API 연결 | 선택적 |

---

## 🎯 다음 단계

1. **환경 변수 설정** (Vercel 웹 UI)
2. **재배포 실행** (환경 변수 적용)
3. **배포된 사이트 테스트**
4. **VPS Gemma3 연결 확인**

---

**작성일**: 2026-01-20  
**상태**: 배포 완료, 환경 변수 설정 필요  
**다음 단계**: 환경 변수 설정 및 재배포

[Verified by Athena Auditor v1.2]

